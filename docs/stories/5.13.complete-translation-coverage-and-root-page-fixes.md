# Story 5.13: Complete Translation Coverage & Root Page Fixes

## Status

**Approved**

---

## Story

**As a** Swedish-speaking user,  
**I want** all UI text to be fully translated and the root page to be Swedish-only,  
**so that** the system feels native and professional in my language.

---

## Acceptance Criteria

1. **Root Page Redesign (Swedish-Only)**
   - Root page (`/page.tsx`) should NOT use locale routing (no redirect to `/en` or `/sv`)
   - All content on root page in Swedish only
   - App title: "Stena Line Säsongsrekrytering" (not "HR Masterdata Management System")
   - Description: Concise, focused on capabilities (max 2-3 sentences)
   - Remove all third-party company mentions (Sodexo, Bluegarden, Silkeborg Forsyning)
   - Keep "Logga in till systemet" button (Swedish)

2. **Navigation Links Translation**
   - Dashboard layout sidebar links translated:
     - "Employees" → "Anställda" (Swedish) / "Employees" (English)
     - "Important Dates" → "Viktiga datum" (Swedish) / "Important Dates" (English)

3. **Employee Table Empty State**
   - "No employees found. Click 'Add Employee' to create your first record." → Fully translated

4. **Important Dates Page Translations**
   - Page description paragraph (remove "ÖMC" third-party reference)
   - Subtitle paragraph fully translated
   - Table headers: "Week Number", "Year", "Category" → Translated
   - Filter label: "Filter by Category" → Translated
   - Dropdown option: "All categories" → Translated
   - Empty state: "No important dates found." → Translated

5. **Admin Users Page Translations**
   - Description paragraph fully translated
   - Table headers: "Role", "Created", "Actions" → Translated
   - Button: "Deactivate" → Translated

6. **Admin Columns Page Translations**
   - Form label: "Column Name" → Translated
   - (Note: Most admin columns page was fixed in Story 5.9.1 ✅)

7. **Translation File Completeness**
   - All missing translation keys added to `messages/en.json` and `messages/sv.json`
   - No hardcoded English strings remain in Swedish locale
   - Translation key audit completed across all `.tsx` files

8. **Third-Party References Removed**
   - No mentions of "Sodexo", "Bluegarden", "Silkeborg Forsyning", "ÖMC" in user-facing text
   - Generic references used where needed (e.g., "external partners" if necessary)

---

## Tasks / Subtasks

### **Phase 1: Root Page Redesign (1 hour)**

- [ ] **Task 1.1: Rewrite Root Page Content** (AC: 1, 8)
  - [ ] Open `src/app/page.tsx`
  - [ ] Change title from "HR Masterdata Management System" to "Stena Line Säsongsrekrytering"
  - [ ] Rewrite description paragraph (Swedish only, concise, max 2-3 sentences)
  - [ ] Remove mentions of Sodexo, Bluegarden, Silkeborg Forsyning
  - [ ] Focus on app capabilities (employee data, custom columns, important dates)
  - [ ] Keep button text "Logga in till systemet"
  - [ ] Verify no locale routing (stays at `/` not `/en` or `/sv`)

### **Phase 2: Add Missing Translation Keys (1.5 hours)**

- [ ] **Task 2.1: Add Navigation Translation Keys** (AC: 2)
  - [ ] Open `messages/en.json`
  - [ ] Add to `navigation` namespace:
    - `"employees": "Employees"`
  - [ ] Open `messages/sv.json`
  - [ ] Add to `navigation` namespace:
    - `"employees": "Anställda"`
  - [ ] Note: `importantDates` already exists ✅

- [ ] **Task 2.2: Add Dashboard Empty State Keys** (AC: 3)
  - [ ] Add to `messages/en.json` → `dashboard` namespace:
    - `"noEmployeesMessage": "No employees found. Click 'Add Employee' to create your first record."`
  - [ ] Add to `messages/sv.json` → `dashboard` namespace:
    - `"noEmployeesMessage": "Inga anställda hittades. Klicka på 'Lägg till anställd' för att skapa din första post."`

- [ ] **Task 2.3: Add Important Dates Page Keys** (AC: 4)
  - [ ] Add to `messages/en.json` → `dates` namespace:
    - `"pageDescription": "Reference calendar of important operational dates"`
    - `"pageSubtitle": "Important operational dates organized by week number and category"`
    - `"weekNumber": "Week Number"`
    - `"year": "Year"`
    - `"category": "Category"`
    - `"filterByCategory": "Filter by Category"`
    - `"allCategories": "All categories"`
    - `"noImportantDates": "No important dates found."`
  - [ ] Add to `messages/sv.json` → `dates` namespace:
    - `"pageDescription": "Referenskalender för viktiga operativa datum"`
    - `"pageSubtitle": "Viktiga operativa datum organiserade efter veckonummer och kategori"`
    - `"weekNumber": "Veckonummer"`
    - `"year": "År"`
    - `"category": "Kategori"`
    - `"filterByCategory": "Filtrera efter kategori"`
    - `"allCategories": "Alla kategorier"`
    - `"noImportantDates": "Inga viktiga datum hittades."`

- [ ] **Task 2.4: Add Admin Users Page Keys** (AC: 5)
  - [ ] Add to `messages/en.json` → `admin` namespace:
    - `"userManagementDescription": "Create and manage user accounts with role assignments"`
    - `"roleColumn": "Role"`
    - `"createdColumn": "Created"`
    - `"actionsColumn": "Actions"`
    - `"deactivateButton": "Deactivate"`
  - [ ] Add to `messages/sv.json` → `admin` namespace:
    - `"userManagementDescription": "Skapa och hantera användarkonton med rolltilldelningar"`
    - `"roleColumn": "Roll"`
    - `"createdColumn": "Skapad"`
    - `"actionsColumn": "Åtgärder"`
    - `"deactivateButton": "Inaktivera"`

- [ ] **Task 2.5: Add Admin Columns Page Keys** (AC: 6)
  - [ ] Add to `messages/en.json` → `forms` namespace:
    - `"columnNameLabel": "Column Name"`
  - [ ] Add to `messages/sv.json` → `forms` namespace:
    - `"columnNameLabel": "Kolumnnamn"`

### **Phase 3: Update Components with Translation Keys (1.5 hours)**

- [ ] **Task 3.1: Update Dashboard Layout Navigation** (AC: 2)
  - [ ] Open `src/app/[locale]/dashboard/layout.tsx`
  - [ ] Find navigation links section
  - [ ] Replace `"Employees"` with `{t('navigation.employees')}`
  - [ ] Replace `"Important Dates"` with `{t('navigation.importantDates')}`
  - [ ] Verify `useTranslations('navigation')` is imported

- [ ] **Task 3.2: Update Employee Table Empty State** (AC: 3)
  - [ ] Open `src/components/dashboard/employee-table.tsx`
  - [ ] Find line with "No employees found. Click 'Add Employee' to create your first record."
  - [ ] Replace with `{t('dashboard.noEmployeesMessage')}`
  - [ ] Verify `useTranslations('dashboard')` is imported

- [ ] **Task 3.3: Update Important Dates Page** (AC: 4, 8)
  - [ ] Open `src/app/[locale]/dashboard/important-dates/page.tsx`
  - [ ] Replace description paragraph with `{t('dates.pageDescription')}`
  - [ ] Remove "ÖMC" reference
  - [ ] Replace subtitle with `{t('dates.pageSubtitle')}`
  - [ ] Verify `useTranslations('dates')` is imported

- [ ] **Task 3.4: Update Important Dates Table** (AC: 4)
  - [ ] Open `src/components/dashboard/important-dates-table.tsx`
  - [ ] Find table column headers
  - [ ] Replace `"Week Number"` with `{t('dates.weekNumber')}`
  - [ ] Replace `"Year"` with `{t('dates.year')}`
  - [ ] Replace `"Category"` with `{t('dates.category')}`
  - [ ] Replace `"Filter by Category:"` with `{t('dates.filterByCategory')}`
  - [ ] Replace `"All categories"` with `{t('dates.allCategories')}`
  - [ ] Replace `"No important dates found."` with `{t('dates.noImportantDates')}`
  - [ ] Verify `useTranslations('dates')` is imported

- [ ] **Task 3.5: Update Admin Users Page** (AC: 5)
  - [ ] Open `src/app/[locale]/dashboard/admin/users/page.tsx`
  - [ ] Replace description with `{t('admin.userManagementDescription')}`
  - [ ] Find table columns
  - [ ] Replace `"Role"` with `{t('admin.roleColumn')}`
  - [ ] Replace `"Created"` with `{t('admin.createdColumn')}`
  - [ ] Replace `"Actions"` with `{t('admin.actionsColumn')}`
  - [ ] Replace `"Deactivate"` with `{t('admin.deactivateButton')}`
  - [ ] Verify `useTranslations('admin')` is imported

- [ ] **Task 3.6: Update Admin Columns Page** (AC: 6)
  - [ ] Open relevant component using "Column Name" label
  - [ ] Replace with `{t('forms.columnNameLabel')}`
  - [ ] Verify `useTranslations('forms')` is imported

### **Phase 4: Testing & Validation (1 hour)**

- [ ] **Task 4.1: Build and Verify**
  - [ ] Run `pnpm build`
  - [ ] Verify no TypeScript errors
  - [ ] Verify no build errors
  - [ ] Verify translation files load correctly

- [ ] **Task 4.2: Manual Testing - Root Page**
  - [ ] Clear browser cookies
  - [ ] Navigate to `http://localhost:3000`
  - [ ] VERIFY: Page does NOT redirect to `/en` or `/sv`
  - [ ] VERIFY: Title is "Stena Line Säsongsrekrytering"
  - [ ] VERIFY: Description is concise (2-3 sentences max)
  - [ ] VERIFY: No mentions of Sodexo, Bluegarden, Silkeborg Forsyning
  - [ ] VERIFY: Button says "Logga in till systemet"

- [ ] **Task 4.3: Manual Testing - Swedish Locale**
  - [ ] Login and switch to Swedish (`/sv/dashboard`)
  - [ ] Navigate to Dashboard
  - [ ] VERIFY: Sidebar shows "Anställda" (not "Employees")
  - [ ] VERIFY: Sidebar shows "Viktiga datum" (not "Important Dates")
  - [ ] VERIFY: Empty employee table shows Swedish message
  - [ ] Navigate to Important Dates (`/sv/dashboard/important-dates`)
  - [ ] VERIFY: Page description in Swedish (no "ÖMC" mention)
  - [ ] VERIFY: Table headers in Swedish (Veckonummer, År, Kategori)
  - [ ] VERIFY: Filter label in Swedish
  - [ ] Navigate to Admin Users (`/sv/admin/users`)
  - [ ] VERIFY: Description in Swedish
  - [ ] VERIFY: Table headers in Swedish (Roll, Skapad, Åtgärder)
  - [ ] VERIFY: Deactivate button in Swedish

- [ ] **Task 4.4: Manual Testing - English Locale**
  - [ ] Switch to English (`/en/dashboard`)
  - [ ] Repeat navigation checks
  - [ ] VERIFY: All text in English (not Swedish)
  - [ ] VERIFY: No translation placeholder keys visible

---

## Background

**User Feedback (UAT Discovery):**

After Story 5.9 and 5.9.1 deployment, user testing revealed:

1. Root page redirects to `/en` when it should be Swedish-only
2. ~20 hardcoded English strings throughout the application
3. Third-party company names mentioned in user-facing text

**Quote from User:**

> "When I go to our root page, I get routed to /en. I want our root page to not have a language route and be in Swedish always. So rewrite the root text to be in Swedish and shorten it a lot. Just describe the apps capabilities, don't mention specific companies that are third party. And call it something along Stena Line Säsongsrekrytering."

> "I also noticed this text is not translated to Swedish 'No employees found. Click 'Add Employee' to create your first record.' as well as the link names 'Employees, Important Dates' etc..."

---

## Estimated Effort

**Total: 4-6 hours** (1 working day)

| Phase     | Task                 | Effort      |
| --------- | -------------------- | ----------- |
| 1         | Root Page Redesign   | 1 hour      |
| 2         | Add Translation Keys | 1.5 hours   |
| 3         | Update Components    | 1.5 hours   |
| 4         | Testing & Validation | 1 hour      |
| **Total** |                      | **5 hours** |

---

## Dependencies

**Blocked By:**

- Story 5.9 (Language Toggle) - ✅ Done
- Story 5.9.1 (Fix Language Toggle Issues) - ✅ Done

**Blocks:**

- Story 5.9 cannot be marked "Done" until 5.13 is complete

**Technical Dependencies:**

- next-intl v4.4.0 installed ✅
- Translation files exist (`messages/en.json`, `messages/sv.json`) ✅
- Locale routing configured in middleware ✅

---

## Priority

**P1 (High)** - Production quality issue affecting Swedish user experience

---

## Change Log

| Date       | Version | Description                                | Author             |
| ---------- | ------- | ------------------------------------------ | ------------------ |
| 2025-10-30 | 0.1     | Created Story 5.13 via correct-course task | Bob (Scrum Master) |

---

## Related Documents

- **Parent Stories:**
  - `docs/stories/5.9.language-toggle-swedish-english.md`
  - `docs/stories/5.9.1.fix-language-toggle-issues.md`
- **Epic:** `docs/prd/epic-5.5-post-mvp-polish-branding.md`
- **Sprint Change Proposal:** Generated via `*correct-course` task (YOLO mode)
- **Architecture:** `docs/architecture/frontend-architecture.md` (i18n section)
